

export CC_PACKAGE_ID=pba_ekyc:7dd7b1ed7a26cfaaea329dc15f98b30b7c5d24515bc2a0824ecc6f5b3c7eaed6
peer lifecycle chaincode approveformyorg --channelID nationalekycchannel --name pba_ekyc --version 2 --init-required --package-id $CC_PACKAGE_ID --sequence 2 -o orderer0.pba.nationalekyc.pk:5050 --ordererTLSHostnameOverride orderer0.pba.nationalekyc.pk --tls true --cafile $ORDERER_CA --collections-config ./collections_config.json --signature-policy "OR('snblMSP.member','bopMSP.member','bokMSP.member','ablMSP.member','alfhpkkaMSP.member','hblMSP.member','biplMSP.member')" --waitForEvent

peer lifecycle chaincode commit -o orderer0.pba.nationalekyc.pk:5050 --ordererTLSHostnameOverride orderer0.pba.nationalekyc.pk --channelID nationalekycchannel --name pba_ekyc  --version 2 --sequence 2 --collections-config ./collections_config.json --signature-policy "OR('snblMSP.member','bopMSP.member','bokMSP.member','ablMSP.member','alfhpkkaMSP.member','hblMSP.member','biplMSP.member')" --init-required --tls true --cafile $ORDERER_CA --peerAddresses peer0.abl.nationalekyc.pk:7051 --tlsRootCertFiles /go/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/alfhpkka.nationalekyc.pk/peers/peer0.alfhpkka.nationalekyc.pk/tls/ca.crt

peer chaincode invoke -o orderer0.pba.nationalekyc.pk:5050 --ordererTLSHostnameOverride orderer0.pba.nationalekyc.pk --channelID nationalekycchannel --name pba_ekyc --isInit --tls true --cafile $ORDERER_CA --peerAddresses peer0.alfhpkka.nationalekyc.pk:7051 --tlsRootCertFiles /go/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/alfhpkka.nationalekyc.pk/peers/peer0.alfhpkka.nationalekyc.pk/tls/ca.crt -c '{"Args":["Init","[{\"orgType\":\"ET\",\"MSP\":\"snblMSP.member\"},{\"orgType\":\"ET\",\"MSP\":\"bopMSP.member\"},{\"orgType\":\"ET\",\"MSP\":\"bokMSP.member\"},{\"orgType\":\"ET\",\"MSP\":\"ablMSP.member\"},{\"orgType\":\"ET\",\"MSP\":\"alfhpkkaMSP.member\"},{\"orgType\":\"ET\",\"MSP\":\"hblMSP.member\"},{\"orgType\":\"ET\",\"MSP\":\"biplMSP.member\"}]"]}'
